---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import "../styles/global.css";
import ParticleCanvas from "../components/ParticleCanvas.astro";

const serviceCategories = [
  {
    category: "AI開発・導入支援",
    icon: "M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09Z",
    color: "from-amber-500 to-orange-600",
    services: [
      { name: "AI構築フルパッケージ", description: "業務分析からAIツールの選定・導入・研修まで、ワンストップで対応。1週間で御社をAI企業へ" },
      { name: "ChatGPT/Claude活用支援", description: "生成AIを活用した業務効率化。プロンプト設計から社内運用ルールまで" },
      { name: "社内AIチャットボット構築", description: "RAG技術を活用した社内ナレッジベースAIの構築" },
      { name: "AI業務効率化コンサルティング", description: "業務プロセスを分析し、AI導入による効率化ポイントを特定" },
      { name: "LexionHub Sales", description: "営業音声をAI解析し、成約率向上のためのフィードバックを提供" },
      { name: "LexionHub Fortune", description: "四柱推命とAIの融合による新しい占いサービス" },
      { name: "LexionHub Autopoiesis", description: "AIと自動化による自走型ビジネス仕組みの構築" },
      { name: "カスタムAI開発", description: "御社独自の業務に特化したAIモデルの設計・開発" }
    ]
  },
  {
    category: "業務自動化・RPA",
    icon: "M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 9.137l-1.15-.964m1.005 10.572-.834-1.277m12.345-6.936L18.5 9.5m-13.005 3.568L5.5 14.5",
    color: "from-purple-500 to-purple-600",
    services: [
      { name: "n8n導入・ワークフロー構築", description: "オープンソース自動化ツールn8nを活用した業務フロー自動化" },
      { name: "Make（旧Integromat）活用支援", description: "複雑な業務プロセスをノーコードで自動化" },
      { name: "Zapier連携構築", description: "クラウドサービス間の連携を自動化し、データ転記作業を削減" },
      { name: "Power Automate導入支援", description: "Microsoft Power Automateを活用した業務プロセス自動化" },
      { name: "請求書・見積書自動生成", description: "受注データから自動で請求書・見積書を生成" },
      { name: "在庫管理自動化", description: "在庫データの自動集計・発注アラート設定" },
      { name: "日報・レポート自動生成", description: "日次・月次レポートの自動作成と配信" }
    ]
  },
  {
    category: "CRM・顧客管理",
    icon: "M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z",
    color: "from-violet-500 to-purple-600",
    services: [
      { name: "EspoCRM導入・カスタマイズ", description: "オープンソースCRM EspoCRMの導入から運用まで完全サポート" },
      { name: "Invoice Ninja導入支援", description: "請求書・見積書管理システムの構築と自動化連携" },
      { name: "Mautic導入・MA構築", description: "マーケティングオートメーションツールMauticで顧客育成を自動化" },
      { name: "顧客データ一元管理", description: "散らばった顧客情報を一つのシステムに集約" },
      { name: "メールマーケティング自動化", description: "セグメント配信・ステップメール・効果測定まで自動化" },
      { name: "リード育成フロー構築", description: "見込み客のスコアリングから商談化までの自動フロー設計" },
      { name: "カスタマーサポート最適化", description: "問い合わせ管理・チケット管理システムの構築" }
    ]
  },
  {
    category: "システム開発",
    icon: "M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5",
    color: "from-blue-500 to-blue-600",
    services: [
      { name: "Webシステム開発", description: "業務に特化したカスタムWebシステムの設計・開発" },
      { name: "Androidアプリ開発", description: "Android向けネイティブアプリケーション開発" },
      { name: "iOSアプリ開発", description: "iOS向けネイティブアプリケーション開発" },
      { name: "IoT機器開発", description: "IoTデバイスとクラウド連携システムの構築" },
      { name: "API開発・連携", description: "システム間連携のためのREST API設計・開発" },
      { name: "データベース設計・構築", description: "大規模データ管理のためのDB設計と最適化" }
    ]
  },
  {
    category: "PCサポート",
    icon: "M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25",
    color: "from-green-500 to-green-600",
    services: [
      { name: "ゲーミングPC導入", description: "高性能ゲーミングPCの選定・セットアップ支援" },
      { name: "業務用PC導入", description: "ビジネス用途に最適なPC環境の構築" },
      { name: "遠隔操作サポート", description: "リモートでのトラブルシューティングと技術サポート" }
    ]
  },
  {
    category: "Webサイト制作",
    icon: "M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418",
    color: "from-cyan-500 to-cyan-600",
    services: [
      { name: "コーポレートサイト制作", description: "企業の顔となる信頼性の高いWebサイト制作" },
      { name: "オウンドメディア集客サイト制作", description: "SEO対策を施したコンテンツマーケティングサイト構築" },
      { name: "ランディングページ制作", description: "コンバージョン最適化されたLP制作" },
      { name: "インタラクティブサイト作成", description: "ユーザー体験を重視した動的Webサイト構築" },
      { name: "ECサイト制作", description: "売れるオンラインショップの設計・制作" },
      { name: "バナー広告制作", description: "クリック率を高めるバナーデザイン制作" },
      { name: "コピーライティング", description: "成果につながる訴求力の高い文章作成" }
    ]
  },
  {
    category: "Webマーケティング",
    icon: "M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z",
    color: "from-orange-500 to-orange-600",
    services: [
      { name: "ABテスト・多変量テスト", description: "データドリブンな改善施策の実施" },
      { name: "Webリスティング広告・ディスプレイ広告", description: "Google・Yahoo!広告運用代行" },
      { name: "SNS広告", description: "Facebook・Instagram・X広告の戦略設計と運用" },
      { name: "SEO対策", description: "検索エンジン最適化による自然流入増加" },
      { name: "MEO対策", description: "Googleマップ最適化で地域集客を強化" },
      { name: "Webアクセス解析", description: "Google Analyticsを活用した詳細分析" },
      { name: "ヒートマップ解析", description: "ユーザー行動の可視化と改善提案" },
      { name: "コンテンツマーケティング", description: "価値あるコンテンツで見込み客を獲得" },
      { name: "MA（マーケティングオートメーション）", description: "Mautic等を活用した顧客育成の自動化" },
      { name: "メールマーケティング", description: "効果的なメール配信戦略の設計・運用" }
    ]
  },
  {
    category: "保守運用・更新代行",
    icon: "M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z",
    color: "from-teal-500 to-teal-600",
    services: [
      { name: "定期更新代行", description: "Webサイトのコンテンツ更新を定期的に実施" },
      { name: "保守メンテナンス", description: "セキュリティ対策・バックアップ・障害対応" }
    ]
  },
  {
    category: "デザイン",
    icon: "M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42",
    color: "from-pink-500 to-pink-600",
    services: [
      { name: "ロゴ", description: "ブランドアイデンティティを体現するロゴデザイン" },
      { name: "チラシ・フライヤー", description: "目を引く効果的な販促物デザイン" },
      { name: "DM・ポストカード", description: "レスポンス率の高いDMデザイン制作" },
      { name: "ポスター", description: "インパクトのあるポスターデザイン" },
      { name: "パッケージデザイン", description: "商品価値を高めるパッケージデザイン" }
    ]
  }
];
---

<Layout
  title="サービス一覧 | 株式会社37Design"
  description="株式会社37Designが提供するサービス一覧。システム開発、Webサイト制作、Webマーケティング、業務自動化、デザインなど、幅広いデジタルソリューションをワンストップで提供します。"
>
  <Header />

  <main>
    <!-- Hero Section -->
    <section class="relative min-h-[50vh] flex items-center hero-gradient overflow-hidden">
      <ParticleCanvas />

      <div class="absolute inset-0 pointer-events-none z-[2]" aria-hidden="true">
        <div class="absolute top-[20%] right-[15%] w-72 h-72 bg-glow/8 rounded-full blur-[100px] hero-float"></div>
        <div class="absolute bottom-[10%] left-[10%] w-96 h-96 bg-accent-400/5 rounded-full blur-[120px] hero-float-delay"></div>
      </div>

      <div class="relative z-20 max-w-5xl mx-auto px-4 md:px-6 lg:px-8 py-20 md:py-24 w-full text-center">
        <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/10 border border-white/10 backdrop-blur-sm mb-6">
          <span class="text-white/70 text-xs font-medium">Services</span>
        </div>

        <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-black text-white leading-[1.15] mb-6">
          提供サービス一覧
        </h1>

        <p class="text-white/70 text-base md:text-lg leading-relaxed max-w-2xl mx-auto">
          システム開発からマーケティングまで、<br class="hidden md:block" />
          ビジネスに必要なデジタルソリューションをワンストップで提供します。
        </p>
      </div>
    </section>

    <!-- Services Grid -->
    {serviceCategories.map((category, idx) => (
      <section class={`py-16 md:py-20 ${idx % 2 === 0 ? 'bg-surface' : 'bg-surface-alt'}`}>
        <div class="max-w-7xl mx-auto px-4 md:px-6 lg:px-8">
          <!-- Category Header -->
          <div class="flex items-center gap-4 mb-10">
            <div class={`w-14 h-14 rounded-xl bg-gradient-to-br ${category.color} flex items-center justify-center shrink-0`}>
              <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d={category.icon} />
              </svg>
            </div>
            <div>
              <h2 class="text-2xl md:text-3xl font-bold text-text-primary">{category.category}</h2>
              <p class="text-sm text-text-muted">{category.services.length}つのサービス</p>
            </div>
          </div>

          <!-- Services Grid -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {category.services.map((service) => (
              <div class="group bg-white rounded-xl p-6 border border-border hover:border-accent-400/40 hover:shadow-lg transition-all duration-300">
                <div class="flex items-start gap-3 mb-3">
                  <div class={`w-2 h-2 rounded-full bg-gradient-to-br ${category.color} mt-2 shrink-0 group-hover:scale-125 transition-transform`}></div>
                  <h3 class="text-lg font-bold text-text-primary group-hover:text-accent-600 transition-colors">
                    {service.name}
                  </h3>
                </div>
                <p class="text-sm text-text-secondary leading-relaxed pl-5">
                  {service.description}
                </p>
              </div>
            ))}
          </div>
        </div>
      </section>
    ))}

    <!-- CTA Section -->
    <section class="py-16 md:py-20 bg-primary-800 relative overflow-hidden">
      <!-- Background glow -->
      <div class="absolute inset-0 pointer-events-none" aria-hidden="true">
        <div class="absolute top-0 left-1/4 w-96 h-96 bg-glow/5 rounded-full blur-[120px]"></div>
        <div class="absolute bottom-0 right-1/4 w-80 h-80 bg-accent-400/5 rounded-full blur-[100px]"></div>
      </div>

      <div class="relative max-w-4xl mx-auto px-4 md:px-6 lg:px-8 text-center">
        <h2 class="text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-4">
          どのサービスが最適か<br class="md:hidden" />わからない方へ
        </h2>
        <p class="text-white/60 text-base md:text-lg mb-8 max-w-2xl mx-auto">
          お悩みやご要望をお聞かせください。<br />
          最適なソリューションをご提案いたします。
        </p>

        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="#contact"
            class="inline-flex items-center justify-center gap-2 px-8 py-4 bg-accent-400 text-primary-950 font-bold rounded-full hover:bg-accent-300 transition-colors text-base"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
            </svg>
            無料相談を申し込む
          </a>

          <a
            href="https://jmp9xv65.autosns.app/line"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center justify-center gap-2 px-8 py-4 bg-[#06C755] text-white font-semibold rounded-full hover:bg-[#05B34A] transition-colors text-base"
          >
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.346 0 .627.285.627.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.627-.63.349 0 .631.285.631.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.281.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314" />
            </svg>
            LINEで相談
          </a>
        </div>

        <p class="text-white/40 text-xs mt-6">
          お電話でのご相談：<a href="tel:080-2412-2556" class="text-white/60 hover:text-white transition-colors">080-2412-2556</a>（平日 9:00-18:00）
        </p>
      </div>
    </section>

    <!-- Contact Form Section -->
    <section id="contact" class="py-16 md:py-20 lg:py-24 bg-surface-alt">
      <div class="max-w-2xl mx-auto px-4 md:px-6 lg:px-8">
        <div class="text-center mb-10">
          <p class="text-primary-500 text-sm font-semibold tracking-[.2em] uppercase mb-3">Contact</p>
          <h2 class="text-2xl md:text-3xl font-bold text-text-primary mb-4">お問い合わせ</h2>
          <p class="text-text-secondary">サービスに関するご質問・ご相談はお気軽にどうぞ</p>
        </div>

        <form
          id="service-form"
          class="bg-white rounded-2xl p-6 md:p-8 shadow-lg border border-border"
        >
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4">
            <div>
              <label for="company" class="block text-xs font-semibold text-text-secondary mb-1.5">
                会社名 <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                id="company"
                name="company"
                required
                placeholder="株式会社〇〇"
                class="w-full px-4 py-3 rounded-lg border border-border bg-surface-alt text-sm text-text-body placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-accent-400 focus:border-transparent transition"
              />
            </div>
            <div>
              <label for="name" class="block text-xs font-semibold text-text-secondary mb-1.5">
                お名前 <span class="text-red-500">*</span>
              </label>
              <input
                type="text"
                id="name"
                name="name"
                required
                placeholder="山田 太郎"
                class="w-full px-4 py-3 rounded-lg border border-border bg-surface-alt text-sm text-text-body placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-accent-400 focus:border-transparent transition"
              />
            </div>
          </div>

          <div class="mb-4">
            <label for="email" class="block text-xs font-semibold text-text-secondary mb-1.5">
              メールアドレス <span class="text-red-500">*</span>
            </label>
            <input
              type="email"
              id="email"
              name="email"
              required
              placeholder="info@example.com"
              class="w-full px-4 py-3 rounded-lg border border-border bg-surface-alt text-sm text-text-body placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-accent-400 focus:border-transparent transition"
            />
          </div>

          <div class="mb-4">
            <label for="service" class="block text-xs font-semibold text-text-secondary mb-1.5">
              気になるサービス
            </label>
            <select
              id="service"
              name="service"
              class="w-full px-4 py-3 rounded-lg border border-border bg-surface-alt text-sm text-text-body focus:outline-none focus:ring-2 focus:ring-accent-400 focus:border-transparent transition"
            >
              <option value="">選択してください（任意）</option>
              <option value="AI顧問サービス">AI顧問サービス（月額制）</option>
              {serviceCategories.map((cat) => (
                <option value={cat.category}>{cat.category}</option>
              ))}
            </select>
          </div>

          <div class="mb-6">
            <label for="message" class="block text-xs font-semibold text-text-secondary mb-1.5">
              メッセージ（任意）
            </label>
            <textarea
              id="message"
              name="message"
              rows="4"
              placeholder="ご要望やご質問などをお気軽にお書きください"
              class="w-full px-4 py-3 rounded-lg border border-border bg-surface-alt text-sm text-text-body placeholder-text-muted focus:outline-none focus:ring-2 focus:ring-accent-400 focus:border-transparent transition resize-none"
            ></textarea>
          </div>

          <button
            type="submit"
            id="submit-btn"
            class="w-full py-4 bg-accent-400 text-primary-950 font-bold rounded-full hover:bg-accent-300 transition-colors text-base disabled:opacity-50 disabled:cursor-not-allowed"
          >
            送信する
          </button>

          <p class="text-xs text-text-muted text-center mt-3">
            ※ 送信後、1営業日以内にご連絡いたします
          </p>

          <!-- Success message (hidden by default) -->
          <div id="success-msg" class="hidden mt-6 p-4 bg-green-50 border border-green-200 rounded-lg">
            <div class="flex items-center gap-2 text-green-700">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
              </svg>
              <p class="font-semibold text-sm">送信完了！</p>
            </div>
            <p class="text-sm text-green-600 mt-1">ありがとうございます。1営業日以内にご連絡いたします。</p>
          </div>
        </form>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('service-form');
    const submitBtn = document.getElementById('submit-btn');
    const successMsg = document.getElementById('success-msg');

    form?.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Disable submit button
      submitBtn.disabled = true;
      submitBtn.textContent = '送信中...';

      const formData = new FormData(form);
      const data = {
        company: formData.get('company'),
        name: formData.get('name'),
        email: formData.get('email'),
        type: formData.get('service') ? `サービス問い合わせ：${formData.get('service')}` : 'サービス問い合わせ',
        message: formData.get('message') || '',
      };

      try {
        const response = await fetch('https://n8n-onprem.37d.jp/webhook/ai-diagnosis', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data),
        });

        if (response.ok) {
          // Show success message
          form.reset();
          successMsg?.classList.remove('hidden');

          // Hide success message after 5 seconds
          setTimeout(() => {
            successMsg?.classList.add('hidden');
          }, 5000);
        } else {
          alert('送信に失敗しました。もう一度お試しください。');
        }
      } catch (error) {
        console.error('Error:', error);
        alert('送信に失敗しました。もう一度お試しください。');
      } finally {
        // Re-enable submit button
        submitBtn.disabled = false;
        submitBtn.textContent = '送信する';
      }
    });
  });
</script>
